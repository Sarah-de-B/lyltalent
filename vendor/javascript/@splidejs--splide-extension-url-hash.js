// @splidejs/splide-extension-url-hash@0.3.0 downloaded from https://ga.jspm.io/npm:@splidejs/splide-extension-url-hash@0.3.0/dist/js/splide-extension-url-hash.esm.js

function empty(n){n.length=0}function slice$1(n,t,e){return Array.prototype.slice.call(n,t,e)}function apply$1(n){return n.bind.apply(n,[null].concat(slice$1(arguments,1)))}function typeOf$1(n,t){return typeof t===n}var n=Array.isArray;apply$1(typeOf$1,"function");apply$1(typeOf$1,"string");apply$1(typeOf$1,"undefined");function toArray(t){return n(t)?t:[t]}function forEach(n,t){toArray(n).forEach(t)}var t=Object.keys;function forOwn(n,e,r){if(n){var o=t(n);o=r?o.reverse():o;for(var i=0;i<o.length;i++){var a=o[i];if("__proto__"!==a&&false===e(n[a],a))break}}return n}function assign(n){slice$1(arguments,1).forEach((function(t){forOwn(t,(function(e,r){n[r]=t[r]}))}));return n}function EventBinder(){var n=[];function bind(t,e,r,o){forEachEvent(t,e,(function(t,e,i){var a="addEventListener"in t;var c=a?t.removeEventListener.bind(t,e,r,o):t.removeListener.bind(t,r);a?t.addEventListener(e,r,o):t.addListener(r);n.push([t,e,i,r,c])}))}function unbind(t,e,r){forEachEvent(t,e,(function(t,e,o){n=n.filter((function(n){if(n[0]===t&&n[1]===e&&n[2]===o&&(!r||n[3]===r)){n[4]();return false}return true}))}))}function dispatch(n,t,e){var r;var o=true;if("function"===typeof CustomEvent)r=new CustomEvent(t,{bubbles:o,detail:e});else{r=document.createEvent("CustomEvent");r.initCustomEvent(t,o,false,e)}n.dispatchEvent(r);return r}function forEachEvent(n,t,e){forEach(n,(function(n){n&&forEach(t,(function(t){t.split(" ").forEach((function(t){var r=t.split(".");e(n,r[0],r[1])}))}))}))}function destroy(){n.forEach((function(n){n[4]()}));empty(n)}return{bind:bind,unbind:unbind,dispatch:dispatch,destroy:destroy}}var e="active";var r="destroy";function EventInterface(t){var e=t?t.event.bus:document.createDocumentFragment();var o=EventBinder();function on(t,r){o.bind(e,toArray(t).join(" "),(function(t){r.apply(r,n(t.detail)?t.detail:[])}))}function emit(n){o.dispatch(e,n,slice$1(arguments,1))}t&&t.event.on(r,o.destroy);return assign(o,{bus:e,on:on,off:apply$1(o.unbind,e),emit:emit})}function slice(n,t,e){return Array.prototype.slice.call(n,t,e)}function apply(n){return n.bind(null,...slice(arguments,1))}function typeOf(n,t){return typeof t===n}apply(typeOf,"function");apply(typeOf,"string");apply(typeOf,"undefined");function getAttribute(n,t){return n.getAttribute(t)}const o="data-splide-hash";function URLHash(n,t,r){const{on:i,bind:a}=EventInterface(n);const{setIndex:c,go:u}=t.Controller;function setup(){const n=convertHashToIndex(location.hash);c(n>-1?n:r.start||0)}function mount(){i(e,onActive);a(window,"hashchange",onHashChange)}function onActive(n){const t=getAttribute(n.slide,o);t?location.hash=t:history?history.replaceState(null,null," "):location.hash=""}function onHashChange(){const n=convertHashToIndex(location.hash);n>-1&&u(n)}function convertHashToIndex(n){n=n.replace("#","");if(n){const{slides:e}=t.Elements;for(let t=0;t<e.length;t++)if(getAttribute(e[t],o)===n)return t}return-1}return{setup:setup,mount:mount}}export{URLHash};

